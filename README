Animatron plasma wallpaper for KDE4.x

1. Description:
Animatron is an animated plasma wallpaper plugin for KDE4. It draws fast streams of random text
on top of a colored or graphic background. The streams fade out at a different rate and
occasionaly spawn into fresh new ones, making your desktop look very cinematic and interesting.

2. Guide:
Due to a fast rate at which the background needs to be refreshed, the performance drop is quite
significant and you sometimes can't afford the wasted flops underneath your active window.
For this purpose, Animatron includes functionality to stop the animations and free resources
when nobody is looking at it.
...No, not really, but hopefuly, close enough :) For each desktop, it allows you to specify a
set of simple rules for which to disable itself. A "rule" is actually either an application
name (like "google-chrome" or "firefox" or "amarok" - which means that Animatron will suspend
animations while that app is running) or a symbolic notation for some other feature, like
("*" - means "always stay disabled", "#" - means "always stay enabled", or "?15" - suspend
when number of running apps reaches 15).

Example rules:

smplayer gnome-mplayer kaffeine vlc

?1

First one is useful to set for "All Desktops" and it will disable Animatron when you're
watching a movie.
Second one will disable Animatron if at least one application is running on that desktop.

When animations are stopped, Animatron looks and behaves like an everyday image (or color)
wallpaper, and as soon as you close the blacklisted app (or apps) or switch to a desktop that
allows it, the ASCII madness resumes shortly.

3. Config options:
Font, Color, Grid - style and number of positions
Bins - a give-or-take number for how many streams can there be on screen at a time
Base - sets up a range for the random number generator; Base 16 means that it will spit out
characters from '0' to 'F'.
Arrangement - at the moment it offers a choice of whether to use an image as background or
not; If you select a background image and you want to use it, make sure you've set the 
arrangement to "Center".

-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
Build instructions:

cd <where_your_source_dir_is>
mkdir -p build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` -DCMAKE_BUILD_TYPE=RelWithDebInfo
make
sudo make install

optionally, test with
plasmawallpaperviewer -p animatron

You might need to run kbuildsycoca4 in order to get the .desktop file recognized.

-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
Changelog:

v 0.2
    KDE-ish background image loading support
    reconstructed config dialog support
    advanced disable conditions with power-management awareness

v 0.1
    basic background-image loading support

-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
BUGS:
* sometimes, especially on slow computers, animation doesn't enable when it's supposed to (like
  it misses the desktop-switch and window-close events); opening and closing the config dialog
  fixes the issue. [rare]
* sometimes the "Desktops" widget in config doesn't init properly, it looks dead and you can't
  click on it. [rare]
* popup menu on "Add Rule" button leaks memory [just when you pop it]
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --

Enjoy,
spaceape